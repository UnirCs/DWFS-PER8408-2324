# API de un sistema de reserva de butacas de cine

En este ejercicio vamos a diseñar la API REST para el cine en el que venimos trabajando en los ejercicios de los anteriores temas.

Las operaciones que la API debe soportar son las siguientes:
- Crear, eliminar y modificar películas.
- Crear, eliminar y modificar (parcialmente) salas.
- Crear, eliminar y modificar (parcialmente) usuarios.
- Crear una reserva para un usuario en una sala.
- Cancelar una reserva para un usuario en una sala.
- Modificar una reserva para un usuario en una sala.
- Registrar un pago de una reserva.

| Método HTTP | URI                           | Query Params | Request Body                                 | Response Body                                                                                        | Códigos HTTP de respuesta |
|-------------|-------------------------------|--------------|----------------------------------------------|------------------------------------------------------------------------------------------------------|---------------------------|
| GET         | /api/peliculas                | -            | -                                            | `{"id": "ID de la película", "titulo": "Nuevo título de la película", "imagen": "Nueva URL de la imagen", "sinopsis": "Nueva descripción de la película", "duracion": "Nueva duración de la película", "genero": "Nuevo género de la película", "puntuacion": "Nueva puntuación de la película"}`s                                                                                    | 200 OK                    |
| GET         | /api/peliculas/{id}           | -            | -                                            | `{"id": "ID de la película", "titulo": "Nuevo título de la película", "imagen": "Nueva URL de la imagen", "sinopsis": "Nueva descripción de la película", "duracion": "Nueva duración de la película", "genero": "Nuevo género de la película", "puntuacion": "Nueva puntuación de la película"}`                                                                    | 200 OK, 404 Not Found     |
| POST        | /api/peliculas                | -            | `{ "titulo": "Título de la película", "imagen": "URL de la imagen", "sinopsis": "Descripción de la película", "duracion": "Duración de la película", "genero": "Género de la película", "puntuacion": "Puntuación de la película"}` | `{"id": "ID de la película", "titulo": "Título de la película", "imagen": "URL de la imagen", "sinopsis": "Descripción de la película", "duracion": "Duración de la película", "genero": "Género de la película", "puntuacion": "Puntuación de la película"}` | 201 Created, 400 Bad Request |
| PUT         | /api/peliculas/{id}           | -            | `{ "titulo": "Nuevo título de la película", "imagen": "Nueva URL de la imagen", "sinopsis": "Nueva descripción de la película", "duracion": "Nueva duración de la película", "genero": "Nuevo género de la película", "puntuacion": "Nueva puntuación de la película"}` | `{"id": "ID de la película", "titulo": "Nuevo título de la película", "imagen": "Nueva URL de la imagen", "sinopsis": "Nueva descripción de la película", "duracion": "Nueva duración de la película", "genero": "Nuevo género de la película", "puntuacion": "Nueva puntuación de la película"}` | 200 OK, 400 Bad Request, 404 Not Found |
| DELETE      | /api/peliculas/{id}           | -            | -                                            | -                                                                                                    | 204 No Content, 404 Not Found |
| GET         | /api/salas                    | -            | -                                            | `{"numero": 1, "nombre": "Sala Roja", "capacidad": 100, "estado": "Disponible"}`                                                                                        | 200 OK                    |
| GET         | /api/salas/{numero}           | -            | -                                            | `{"numero": 1, "nombre": "Sala Roja", "capacidad": 100, "estado": "Disponible"}`                                                                        | 200 OK, 404 Not Found     |
| POST        | /api/salas                    | -            | `{ "nombre": "Sala Roja", "capacidad": 100, "estado": "Disponible"}` | `{"numero": 1, "nombre": "Sala Roja", "capacidad": 100, "estado": "Disponible"}` | 201 Created, 400 Bad Request |
| PATCH       | /api/salas/{numero}           | -            | `{ "estado": "No disponible"}` | `{"numero": 1, "nombre": "Sala Roja", "capacidad": 100, "estado": "No disponible"}` | 200 OK, 400 Bad Request, 404 Not Found |
| DELETE      | /api/salas/{numero}           | -            | -                                            | -                                                                                                    | 204 No Content, 404 Not Found |
| GET         | /api/usuarios                 | -            | -                                            | `{"id": 1, "nombre": "Manuel Rodriguez", "correo": "manuel@gmail.com"}`                                                                                     | 200 OK                    |
| GET         | /api/usuarios/{id}            | -            | -                                            | `{"id": 1, "nombre": "Manuel Rodriguez", "correo": "manuel@gmail.com"}`                                                                     | 200 OK, 404 Not Found     |
| POST        | /api/usuarios                 | -            | `{ "nombre": "Manuel Rodriguez", "correo": "manuel@gmail.com", "contrasena": "manuel123"}` | `{"id": 1, "nombre": "Manuel Rodriguez", "correo": "manuel@gmail.com"}` | 201 Created, 400 Bad Request |
| PATCH       | /api/usuarios/{id}            | -            | `{ "nombre": "Manuel Eduardo Rodriguez"}` | `{"id": 1, "nombre": "Manuel Eduardo Rodriguez", "correo": "manuel@gmail.com"}` | 200 OK, 400 Bad Request, 404 Not Found |
| DELETE      | /api/usuarios/{id}            | -            | -                                            | -                                                                                                    | 204 No Content, 404 Not Found |
| POST        | /api/reservas                 | -            | `{ "usuarioId": 1, "salaNumero": 1, "peliculaId": 1, "numeroButaca": 5}` | `{"id": 1, "usuarioId": 1, "salaNumero": 1, "peliculaId": 1, "numeroButaca": 5}` | 201 Created, 400 Bad Request |
