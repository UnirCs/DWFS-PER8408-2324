# API de un sistema de reserva de butacas de cine

En este ejercicio vamos a diseñar la API REST para el cine en el que venimos trabajando en los ejercicios de los anteriores temas.

Las operaciones que la API debe soportar son las siguientes:
- Crear, eliminar y modificar películas.
- Crear, eliminar y modificar (parcialmente) salas.
- Crear, eliminar y modificar (parcialmente) usuarios.
- Crear una reserva para un usuario en una sala.
- Cancelar una reserva para un usuario en una sala.
- Modificar una reserva para un usuario en una sala.
- Registrar un pago de una reserva.

**Recursos identificados:**
- Película (movies): Representa la película a reserva.
- Sala (rooms): Representa la sala donde se proyectará la película.
- Usuario (users): Representa el usuario que realiza la reserva de la película.
- Reserva (bookings): Representa una reserva de alguna película.
- Pago (payments): Representa el pago realizar por una reserva de película.

| Método HTTP | URI                    | Query Params  | Cuerpo de la Petición                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Cuerpo de la Respuesta                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Códigos de Respuesta                                                       |
|-------------|------------------------|---------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|
| POST        | /movies                | N/A           | `{"movie":{"name":"Rápidos y Furiosos 8","url_trailer": "https://www.youtube.com/watch?v=mTPDmf_pXxo","director":"F. Gary Gray","year_publication": "2017","category": "Acción","synopsis": "Una ciberterrorista despiadada lleva a Dom a traicionar a Letty y al equipo, y todo lo que habían construido corre peligro. Pero no se darán por vencido fácilmente.","duration": "2h 3min","image_film": "./assets/films/1.jpg","protagonists": [{"id": 1,"name": "Vin Diesel"},{"id": 2,"name": "Dwayne Johnson"},{"id": 3,"name": "Jason Statham"}]}}`          | `{"movie":{"id": 1,"name":"Rápidos y Furiosos 8","url_trailer": "https://www.youtube.com/watch?v=mTPDmf_pXxo","director":"F. Gary Gray","year_publication": "2017","category": "Acción","synopsis": "Una ciberterrorista despiadada lleva a Dom a traicionar a Letty y al equipo, y todo lo que habían construido corre peligro. Pero no se darán por vencido fácilmente.","duration": "2h 3min","image_film": "./assets/films/1.jpg","protagonists": [{"id": 1,"name": "Vin Diesel"},{"id": 2,"name": "Dwayne Johnson"},{"id": 3,"name": "Jason Statham"}],"creationDate": "2024-01-04"}}`                             | 201 Created<br/>400 Bad Request<br/>500 Internal Server Error              |
| DELETE      | /movies/{movieId}      | N/A           | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | `{"message": "Successful movie removal."}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | 200 OK<br/>404 Not Found<br/>500 Internal Server Error                     |
| PUT         | /movies/{movieId}      | N/A           | `{"movie":{"id": 1,"name":"Rápidos y Furiosos 5","url_trailer": "https://www.youtube.com/watch?v=mTPDmf_pXxo","director":"F. Gary Gray","year_publication": "2012","category": "Acción","synopsis": "Una ciberterrorista despiadada lleva a Dom a traicionar a Letty y al equipo, y todo lo que habían construido corre peligro. Pero no se darán por vencido fácilmente.","duration": "2h 30min","image_film": "./assets/films/1.jpg","protagonists": [{"id": 1,"name": "Vin Diesel"},{"id": 2,"name": "Dwayne Johnson"},{"id": 3,"name": "Jason Statham"}]}}` | `{"movie":{"id": 1,"name":"Rápidos y Furiosos 5","url_trailer": "https://www.youtube.com/watch?v=mTPDmf_pXxo","director":"F. Gary Gray","year_publication": "2012","category": "Acción","synopsis": "Una ciberterrorista despiadada lleva a Dom a traicionar a Letty y al equipo, y todo lo que habían construido corre peligro. Pero no se darán por vencido fácilmente.","duration": "2h 30min","image_film": "./assets/films/1.jpg","protagonists": [{"id": 1,"name": "Vin Diesel"},{"id": 2,"name": "Dwayne Johnson"},{"id": 3,"name": "Jason Statham"}],"creationDate": "2024-01-04","updateDate": "2024-01-05"}}` | 200 OK<br/>400 Bad Request<br/>404 Not Found<br/>500 Internal Server Error |
| POST        | /rooms                 | N/A           | `{"room": {"number": 2,"numberSeats": 50,"type": "premier","screen": {"id": 1,"large": "100cm","width": "150cm","height": "50cm","type": "led"},"projector": {"id": 2,"mark": "importado","weight": "1kg","type": "Projectors","model": "Mini","touchScreen": false,"videoResolution" : "WXGA (1280x800)"},"speakers": {"id": 3,"model": "Surround Speakers 700","bluetooth": false,"additionalInformation": "Medidas por parlante: 14.66 cm x 4.67 cm x 4.67 cm"}}}`                                                                                           | `{"room": {"id": 10,"number": 2,"numberSeats": 50,"type": "premier","screen": {"id": 1,"large": "100cm","width": "150cm","height": "50cm","type": "led"},"projector": {"id": 2,"mark": "importado","weight": "1kg","type": "Projectors","model": "Mini","touchScreen": false,"videoResolution" : "WXGA (1280x800)"},"speakers": {"id": 3,"model": "Surround Speakers 700","bluetooth": false,"additionalInformation": "Medidas por parlante: 14.66 cm x 4.67 cm x 4.67 cm"},"creationDate": "2024-01-04"}}`                                                                                                             | 201 Created<br/>400 Bad Request<br/>500 Internal Server Error              |
| DELETE      | /rooms/{roomId}        | N/A           | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | `{"message": "Successful room removal."}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | 200 OK<br/>404 Not Found<br/>500 Internal Server Error                     |
| PATCH       | /rooms/{roomId}        | N/A           | `{"room": {"id": 10,"number": 5,"numberSeats": 35,"type": "2D"}}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | `{"room": {"id": 10,"number": 5,"numberSeats": 35,"type": "2D","screen": {"id": 1,"large": "100cm","width": "150cm","height": "50cm","type": "led"},"projector": {"id": 2,"mark": "importado","weight": "1kg","type": "Projectors","model": "Mini","touchScreen": false,"videoResolution" : "WXGA (1280x800)"},"speakers": {"id": 3,"model": "Surround Speakers 700","bluetooth": false,"additionalInformation": "Medidas por parlante: 14.66 cm x 4.67 cm x 4.67 cm"},"creationDate": "2024-01-04","updateDate": "2024-01-05"}}`                                                                                       | 200 OK<br/>400 Bad Request<br/>404 Not Found<br/>500 Internal Server Error |
| POST        | /users                 | N/A           | `{"user": {"name": "Rodri","lastname": "Noleh","birthdate": "1989-12-23","type": "vip"}}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | `{"user": {"id": 100,"name": "Rodri","lastname": "Noleh","birthdate": "1989-12-23","type": "vip","creationDate": "2024-01-04"}}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | 201 Created<br/>400 Bad Request<br/>500 Internal Server Error              |
| DELETE      | /users/{userId}        | N/A           | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | `{"message": "Successful user removal."}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | 200 OK<br/>404 Not Found<br/>500 Internal Server Error                     |
| PATCH       | /users/{userId}        | N/A           | `{"user": {"id": 100,"type": "black"}}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | `{"user": {"id": 100,"name": "Rodri","lastname": "Noleh","birthdate": "1989-12-23","type": "black","creationDate": "2024-01-04","updateDate": "2024-01-05"}}`                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 200 OK<br/>400 Bad Request<br/>404 Not Found<br/>500 Internal Server Error |
| POST        | /bookings              | N/A           | `{"booking": {"roomId": 10,"movieId": 1,"userId": 100,"schedule": "07:00:00 - 09:00:00", "amountPayable": 50, "listSeat": [5, 6]}}`                                                                                                                                                                                                                                                                                                                                                                                                                             | `{	"booking": {"id": 25,"roomId": 10,"movieId": 1,"userId": 100,"schedule": "07:00:00 - 09:00:00", "listSeat": [5, 6], "creationDate": "2024-01-04"}}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | 201 Created<br/>400 Bad Request<br/>500 Internal Server Error              |
| PUT         | /bookings/{bookingId}/rooms/{roomId}/users/{userId}    | N/A           | `{"booking": {"roomId": 10,"movieId": 3,"userId": 100,"schedule": "07:00:00 - 09:00:00", "listSeat": [5, 6, 7]}}`                                                                                                                                                                                                                                                                                                                                                                                                                                               | `{"booking": {"roomId": 10,"movieId": 3,"userId": 100,"schedule": "07:00:00 - 09:00:00", "listSeat": [5, 6, 7],"creationDate": "2024-01-04","updateDate": "2024-01-05"}}`                                                                                                                                                                                                                                                                                                                                                                                                                                               | 200 OK<br/>400 Bad Request<br/>404 Not Found<br/>500 Internal Server Error |
| DELETE      | /bookings/{bookingId}       | N/A           | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | `{"message": "Successful booking removal."}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | 200 OK<br/>404 Not Found<br/>500 Internal Server Error                     |
| POST        | /payments              | N/A           | `{"payment": {"bookingId": 10,"amountPaid": 50,"payDay": "2024-01-04","halfPayment": "Efectivo"}}`                                                                                                                                                                                                                                                                                                                                                                                                                                                  | `{"payment": {"id": 200, "bookingId": 10,"amountPaid": 50,"payDay": "2024-01-04","halfPayment": "Efectivo", "creationDate": "2024-01-04"}}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 201 Created<br/>400 Bad Request<br/>500 Internal Server Error              |