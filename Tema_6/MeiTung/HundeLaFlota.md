# API del juego hunde la flota

### Operaciones:
1. Crear una partida.
2. Eliminar una partida.
3. Modificar datos de una partida.
4. Iniciar una partida.
5. Finalizar una partida.
6. Consultar todos los datos (jugadores asociados, barcos de cada jugador, disparos realizados, ganador...) de una partida.
7. Añadir un barco a la cuadrícula de un jugador en una partida.
8. Eliminar un barco de la cuadrícula de un jugador en una partida.
9. Consultar todos los barcos de un jugador de una partida.
10. Registrar un disparo de un jugador a otro en una partida.
11. Crear un usuario.
12. Obtener datos de un usuario.
13. Eliminar un usuario.


### Recursos identificados:
- **Partida:** Representa a cada juego entre dos jugadores.
    - **id:** identificador único de la partida.
    - **jugador1_id:** ID del primer jugador.
    - **jugador2_id:** ID del segundo jugador.
    - **inicio:** fecha y hora de iniciación de la partida.
    - **fin:** fecha y hora de finalización de la partida.
    - **ganador_id:** ID del jugador ganador.
    - **estado:** estado de la partida (creada, iniciada, finalizada).


- **Jugador:** Representa un participante en la partida, que puede ser un usuario registrado o un invitado anónimo.
    - **id:** identificador único del jugador.
    - **usuario_id:** ID del usuario (solo para jugadores registrados).
    - **alias:** seudónimo (solo para jugadores sin registro)


- **Barco:** Representa los cuadros que cada jugador coloca en su cuadrícula.
    - **id:** identificador único del barco.
    - **partida_id:** ID de la partida.
    - **jugador_id:** ID del jugador al que pertenece.
    - **tamaño:** cantidad de cuadros del barco (1-4).
    - **orientación:** horizontal o vertical.
    - **inicialX:** coordenada inicial del eje X.
    - **inicialY:** coordenada inicial del eje Y.
    - **estado:** intacto, dañado, hundido.


- **Disparo:** Representa un intento de un jugador por hundir los barcos del contrincante.
    - **id:** identificador único del disparo.
    - **partida_id:** ID de la partida.
    - **jugador_id:** ID del jugador que dispara.
    - **objetivoX:** objetivo del disparo en el eje X.
    - **objetivoY:** objetivo del disparo en el eje Y.
    - **resultado:** fallido, acertado, barco hundido.


- **Usuario:** Representa una cuenta de usuario de los jugadores registrados en el sistema.
    - **id:** identificador único del usuario.
    - **nombre:** nombre de usuario o sobrenombre.
    - **email:** correo electrónico para iniciar sesión.
    - **contraseña:** clave para iniciar sesión.


| N° | Método HTTP | URI                                                             | Query Params | Request Body                                                                                                         | Response Body                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Códigos HTTP de respuesta |
|----|-------------|-----------------------------------------------------------------|--------------|----------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
| 1  | POST        | /partidas                                                       | N/A          | `{"jugador1_id": 1, "jugador2_id": 2, "inicio": null, "fin": null, "ganador_id": null, "estado": "creada" }`         | `{"id": 1, "jugador1_id": 1, "jugador2_id": 2, "inicio": null, "fin": null, "ganador_id": null, "estado": "creada" }`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | 201, 400, 500             |
| 2  | DELETE      | /partidas/{partida_id}                                          | N/A          | N/A                                                                                                                  | `{"mensaje": "La partida ha sido eliminada con éxito."}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | 200, 404, 500             |
| 3  | PATCH       | /partidas/{partida_id}                                          | N/A          | `{"jugador2_id": null, "estado": "en espera"}`                                                                       | `{"id": 1, "jugador1_id": 1, "jugador2_id": null, "inicio": null, "fin": null, "ganador_id": null, "estado": "en espera" }`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 200, 400, 404, 500        |
| 4  | PATCH       | /partidas/{partida_id}                                          | N/A          | `{"inicio": "2024-02-01 13:15:54", "estado": "iniciada"}`                                                            | `{"id": 1, "jugador1_id": 1, "jugador2_id": 2, "inicio": "2024-02-01 13:15:54", "fin": null, "ganador_id": null, "estado": "iniciada" }`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | 200, 400, 404, 500        |
| 5  | PATCH       | /partidas/{partida_id}                                          | N/A          | `{"fin": "2024-02-01 13:45:11", "ganador_id": 2, "estado": "finalizada"}`                                            | `{"id": 1, "jugador1_id": 1, "jugador2_id": 2, "inicio": "2024-02-01 13:15:54", "fin": "2024-02-01 13:45:11", "ganador_id": 2, "estado": "finalizada" }`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | 200, 400, 404, 500        |
| 6  | GET         | /partidas/{partida_id}                                          | N/A          | N/A                                                                                                                  | `{"id": 1, "jugador1": { "id": 1, "usuario_id": 1, "alias": null, "barcos": [{"id": 1, "partida_id": 1, "jugador_id": 1, "tamaño": 1, "orientacion": "horizontal", "inicialX": "B", "inicialY": 1, "estado": "intacto"}, {"id": 3, "partida_id": 1, "jugador_id": 1, "tamaño": 2, "orientacion": "vertical", "inicialX": "E", "inicialY": 3, "estado": "intacto"}], "disparos": [{"id": 1, "partida_id": 1, "jugador_id": 1, "objetivoX": "H", "objetivoY": 7, "resultado": "acertado"}, {"id": 5, "partida_id": 1, "jugador_id": 1, "objetivoX": "I", "objetivoY": 7, "resultado": "fallido"}] }, "jugador2": { "id": 2, "usuario_id": null, "alias": "anónimo123", "barcos": [{"id": 1, "partida_id": 1, "jugador_id": 2, "tamaño": 4, "orientacion": "vertical", "inicialX": "D", "inicialY": 2, "estado": "dañado"}, {"id": 8, "partida_id": 1, "jugador_id": 2, "tamaño": 2, "orientacion": "horizontal", "inicialX": "F", "inicialY": 6, "estado": "intacto"}], "disparos": [{"id": 7, "partida_id": 1, "jugador_id": 2, "objetivoX": "C", "objetivoY": 5, "resultado": "fallido"}] }, "inicio": "2024-02-01 14:00:00", "fin": "2024-02-01 14:30:00", "ganador": {"id": 2, "usuario_id": null, "alias": "anónimo123"}, "estado": "finalizada"}` | 200, 404, 500             |
| 7  | POST        | /partidas/{partida_id}/jugadores/{jugador_id}/barcos            | N/A          | `{"tamaño": 2, "orientación": "horizontal", "inicialX": "A", "inicialY": 2, "estado": "intacto"}`                    | `{"id": 1, "partida_id": 1, "jugador_id": 1, "tamaño": 2, "orientación": "horizontal", "inicialX": "A", "inicialY": 2, "estado": "intacto"}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | 201, 400, 500             |
| 8  | DELETE      | /partidas/{partida_id}/jugadores/{jugador_id}/barcos/{barco_id} | N/A          | N/A                                                                                                                  | `{"mensaje": "El barco ha sido eliminado con éxito."}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | 200, 404, 500             |
| 9  | GET         | /partidas/{partida_id}/jugadores/{jugador_id}/barcos            | N/A          | N/A                                                                                                                  | `[{"id": 1, "partida_id": 1, "jugador_id": 1, "tamaño": 2, "orientación": "horizontal", "inicialX": "A", "inicialY": 2, "estado": "intacto"}, {"id": 2, "partida": 1, "jugador1_id": 1, "tamaño": 4, "orientación": "vertical", "inicialX": "C", "inicialY": 3, "estado": "dañado"}]`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | 200, 404, 500             |
| 10 | POST        | /partidas/{partida_id}/jugadores/{jugador_id}/disparos          | N/A          | `{"objetivoX": "D", "objetivoY": 4, "resultado": "fallido"}`                                                         | `{"id": 1, "partida_id": 1, "jugador_id": 2, "objetivoX": "D", "objetivoY": 4, "resultado": "fallido"}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | 201, 400, 500             |
| 11 | POST        | /usuarios                                                       | N/A          | `{"nombre": "Rosa Vega", "email": "rosita_v@hotmail.com", "contraseña": "1022c125384fdeac5afd4f9dea1eb08b793eadca"}` | `{"id": 1, "nombre": "Rosa Vega", "email": "rosita_v@hotmail.com", "contraseña": "1022c125384fdeac5afd4f9dea1eb08b793eadca"}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 201, 400, 500             |
| 12 | GET         | /usuarios/{usuario_id}                                          | N/A          | N/A                                                                                                                  | `{"id": 1, "nombre": "Rosa Vega", "email": "rosita_v@hotmail.com", "contraseña": "1022c125384fdeac5afd4f9dea1eb08b793eadca"}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 200, 404, 500             |
| 13 | DELETE      | /usuarios/{usuario_id}                                          | N/A          | N/A                                                                                                                  | `{"mensaje": "El usuario ha sido eliminado con éxito."}`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | 200, 404, 500             |

